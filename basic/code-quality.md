# 1. 重构

## 1. 重构理论

***关于代码质量你有哪些话要告诫自己?***

```
>> You aren't going to need it: 开发功能时不必太考虑扩展性

>> 使用重构替代试图说明代码作用的注释
```

***重构的目的是什么?***

> 使人疲惫的不是远方的高山，而是鞋子里的一粒沙子。 --- 伏尔泰

## 2. Bad Smell

***说一说常见的代码异味以及解决方法?***

| Bad Smell                      | 解决方法                        |
| ------------------------------ | ------------------------------- |
| **阐述代码逻辑的注释**   | 重命名                          |
| **2个代码块的结构相似**  | 提取为函数                      |
| **if的条件复杂**         | 提取为isXxx()函数               |
| **多else if分支**        | 使用if return                   |
| **Magic String**         | 使用Enum/Final Static String    |
| **有多变量之间相互关联** | 封装多个变量为一个类            |
| **滥用断言/异常**        | 断言/异常不能涉及代码逻辑流控制 |
| **for遍历集合**          | 使用Stream方法                  |
| **死代码/注释掉的代码**  | 删掉, 使用版本控制工具管理      |

# 2. 测试

## 1. 术语

***什么是测试驱动开发(TDD)?***

```
TDD指的是 先编写测试代码 -> 然后写具体的代码实现 ->  最后在每次编译后都执行测试代码 这样的过程
```

***测试用例如何设计?***

```
* 黑盒测试中常常使用等价类+边界分析生成测试用例, 测试用例一般为6+N个, 上/下边界附近的各三个用例, N个正常用例

* 白盒测试注意分支覆盖和语句覆盖
```

***什么是断言, 有什么注意事项?***

```
断言(assert)用于检查程序要正常运行必须要满足的条件

注意: 生产环境中不允许使用断言
```

## 2. Junit

***为什么Junit的单元测试类中没有Main函数却可以正常运行?***

```
* maven进程在Test phase阶段的插件中调用了Junit中的测试API:

               JUnitCore.runClasses(TestClass.class)
```

# 3. 设计模式

***说一下面向对象的设计原则?***

```
* 开闭原则
* 合成复用原则: 组合优于继承
* 单一职责原则: 接口职责/类的职责要单一
* 依赖倒置原则: 依赖于接口编程
* Demeter原则: 一个类只需要知道它需要知道的最少信息
* liskov替换原则: 子类在任何地方都能替代父类
```

***lazy-loading的单例模式实现方式有哪些?***

```
* DCL
* static 代码块
* 枚举类
```

***代理模式和装饰器模式的区别?***

```
代理模式一般只会代理一层, 装饰器模式一般封装多层
```

# 4. 代码规范

## 1. 通用代码规范

***如何命名?***

| 类型           | 命名方式       |
| -------------- | -------------- |
| 类             | XxxYyy         |
| 变量/方法      | xxxYyy         |
| final 常量     | XXX_YYY        |
| 抽象类         | AbstractXxxYyy |
| 枚举类         | XxxYyyEnum     |
| 单一接口实现类 | XxxYyyImpl     |
| 包名/路径名    | xxx.yyy        |

***良好的代码风格需要注意的事项有哪些?***

| 方面       | 注意事项                                                                                                                                         |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| 代码格式   | 缩进使用4个空格;<br />多目运算符两边使用空格;<br />分支语句使用{};<br />左结合符(如;)的右边有空格;<br />字面常量一律使用大写后缀(L,D,F);         |
| 代码统一   | 编码一律使用UTF8;<br />换行符一律使用LF;                                                                                                         |
| 代码正确性 | 使用 `常量.equals(obj)`的方式防止NPE;<br />尽可能使用包装类而不是基本类型;<br />Boolean类型不要使用is作为前缀;<br />重写equals必须重写hashcode |
| 代码可读性 | 抽象的方法必须添加javadoc注释;                                                                                                                   |

## 2. javadoc注释

***javadoc注释中常用的标签有哪些?***

```
@date 2023/8/19
@author 
@since <version>
----------
@param	参数说明
@return 返回值说明
@deprecated 过期说明
-----------
* @see 包.类#成员	-- 相关的内容
{@code 代码}	-- 代码块
{@link 包.类#成员}	--跳转
{@value 包.类#static成员}   --显示static变量的值
```

***pakage-info.java的作用是什么?***

```
提供包级别的javadoc文档
```

## 3. lombok

***lombok中常用的注解有哪些?***

| 注解                          | 作用/使用示例                 |
| ----------------------------- | ----------------------------- |
| **@Getter**             |                               |
| **@Setter**             | `@Setter(AccessLevel.NONE)` |
| @ToString                     |                               |
| @EqualsAndHashCode            |                               |
| **@XxxArgsConstructor** |                               |
| **@Data**               |                               |
| **@Builder**            | 支持链式调用初始化            |
| **@Slf4j**              | 支持log                       |
| **@SneakyThrow**        |                               |

***lombok注解如何生效?***
